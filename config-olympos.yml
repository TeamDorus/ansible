---
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
#       O L Y M P O S
#
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
- name: Playbook to configure the host "olympos"
  hosts: pindos

  # wait with gathering facts until host is up and running
  # fact gathering will be done in role " basic_lxc"
  gather_facts: true


  tasks:

    - include_role:
        name: docker
      vars:
        ansible_become: true   # install as root

    - include_role:
        name: config_portainer_endpoint_create

    - include_role:
        name: docker_influxdb

    - include_role:
        name: docker_telegraf

    - include_role:
        name: docker_grafana

    - include_role:
        name: docker_hostscanner

    - include_role:
        name: config_hostscanner_entry_create

    - include_role:
        name: docker_speedtest2influx

    - include_role:
        name: docker_heimdall

    - include_role:
        name: docker_mosquitto

    - include_role:
        name: docker_nodered
